---
title: 汇编学习笔记：标志寄存器（flag）
tags:
  - 汇编语言
excerpt: 寄存器一共有14个，flag是我们要学习的最后一个寄存器。
toc: true
author: xeonds
date: '2021.09.27 23:45:55'
categories:
  - 计算机科学
  - 编程语言
  - Assembly
---

>[[Assembly|汇编笔记系列]]

flag寄存器的每一位都表示单独的含义，记录特定的信息。这种信息通常称作程序状态字（PSW）。

该寄存器长2字节，结构如下所示。

```asm
15 14 13 12 11 10  9  8  7  6  5  4  3  2  1  0
            OF DF IF TF SF ZF    AF    PF    CF
```

下面逐个解释。

## ZF标志

第6位，零位标志。它记录相关指令执行后，结果是否为零。为零则`zf=1`，否则`zf=0`。

这里的相关指令包含`add,sub,mul,div,inc,or,and`等，它们大多都是运算指令。因此，使用指令时，要注意它的**全部功能，包括执行结果对标志寄存器的影响**。

## PF标志

第2位，奇偶标志位。它记录相关指令执行后，其结果的**所有bit位中1的个数是否为偶数**。若是则是1，否则为0。

## SF标志

第7位，符号标志位。它记录相关指令执行后，其结果是否为负（即存储单元最高位bit是否为1）。若是则是1，否则为0。**只有将数据当做有符号数来运算的时候，其值才有意义**。

换句话说，算数运算必然影响SF的值，是否需要此值则看我们如何看待指令所进行的运算。

## CF标志

第0位，进位标志位。一般在进行**无符号数**运算的时候，它记录了运算结果的最高有效位向更高位的进位值，或从更高位的借位值。

## OF标志
